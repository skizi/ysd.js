<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>YSD</title>
	<meta name="viewport" content="width=640">
	<script src="../../jquery-2.1.1.min.js"></script>
	<script src="../build/ysd.js"></script>
</head>
<body id="top">

	<img src="assets/images/test1.jpg" id="img1">
	<img src="assets/images/test2.jpg" id="img2">
	<canvas width="500" height="500" id="canvas"></canvas>
	<canvas width="64" height="64" id="canvas2"></canvas>
	<div id="debug"></div>
	<script>


	var MYAPP = MYAPP||{};

	$( window ).on( 'load', function(){

		new MYAPP.Main();

	});


	MYAPP.Main = (function(){

		function Main(){

			var debug = document.getElementById( 'debug' );

			//----------------------CanvasRgbShiftAnimater0------------------------
			var canvas = $( 'canvas' );
			var img = $( '#img1' );
			canvas.attr({ width:img.width(), height:img.height() });
			var animater = new YSD.CanvasRgbShiftAnimater0( canvas, img[0], 10, 10, 30 );
			animater.element.on( 'callback', animaterCompHandler );
			animater.loopFlag = true;
			animater.play();
			//animater.reverse( true );


			//----------------------CanvasRgbShiftAnimater0------------------------
			var img2 = $( '#img2' );
			var canvasManager = new YSD.CanvasManager();
			canvasManager.getGrayScaleData( img2[0], 255, function( datas ){
				console.log( datas );
			} );

			var audioManager = new YSD.AudioManager();
			var datas = [
				{
					value:'se0',
					src:'assets/sound/0.ogg'
				},
				{
					value:'se1',
					src:'assets/sound/1.ogg'
				}
			];

			audioManager.loadAudios( datas, function(){
				audioManager.play( 'se1' );
			});

		}
		

		function animaterCompHandler(){
			console.log( arguments[1].type );
		}


		return Main;

	})();

	</script>
</body>
</html>